const e=document.querySelector(".overlay"),c=document.querySelector(".grid"),t=document.querySelectorAll(".switch"),r=document.querySelector("#menu"),i=document.querySelector("#instructions"),l=document.querySelector(".modal__dismiss"),o=document.querySelector("#win"),d=document.querySelector("#restart");let n=[],s=[];function a(){e.classList.remove("overlay--active"),o.classList.remove("modal--active"),function(){for(let e=0;e<25;e++)n[e]=0,s[e]=1,n[e]=Math.round(Math.random())}(),function(){for(let e=0;e<25;e++)1==n[e]&&(1==s[e]?s[e]=0:s[e]=1,e+1<=20&&(1==s[e+5]?s[e+5]=0:s[e+5]=1),e%5!=0&&(1==s[e-1]?s[e-1]=0:s[e-1]=1),e+1>5&&(1==s[e-5]?s[e-5]=0:s[e-5]=1),(e+1)%5!=0&&(1==s[e+1]?s[e+1]=0:s[e+1]=1))}(),function(){let e=0;t.forEach((t=>{s[e]?c.querySelector(`.switch:nth-child(${e+1})`).checked=!0:c.querySelector(`.switch:nth-child(${e+1})`).checked=!1,e++}))}()}r.addEventListener("click",(function(){e.classList.add("overlay--active"),i.classList.add("modal--active")})),l.addEventListener("click",(function(){e.classList.remove("overlay--active"),i.classList.remove("modal--active")})),c.addEventListener("click",(function(e){if(e.target.classList.contains("switch")){let t=1+Array.prototype.indexOf.call(e.target.parentNode.children,e.target);t<=20&&(c.querySelector(`.switch:nth-child(${t+5})`).checked=!c.querySelector(`.switch:nth-child(${t+5})`).checked),(t-1)%5!=0&&(c.querySelector(`.switch:nth-child(${t-1})`).checked=!c.querySelector(`.switch:nth-child(${t-1})`).checked),t>5&&(c.querySelector(`.switch:nth-child(${t-5})`).checked=!c.querySelector(`.switch:nth-child(${t-5})`).checked),t%5!=0&&(c.querySelector(`.switch:nth-child(${t+1})`).checked=!c.querySelector(`.switch:nth-child(${t+1})`).checked)}})),c.addEventListener("click",(function(){let c=!0;t.forEach((e=>{e.checked||(c=!1)})),c&&(e.classList.add("overlay--active"),o.classList.add("modal--active"))})),d.addEventListener("click",a),a();